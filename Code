# Text-Based Adventure Game in PowerShell

# Function to display game instructions
function Show-Instructions {
    Write-Host "
    Text-Based Adventure Game
    =========================
    Commands:
    - 'go [direction]' to move (e.g., 'go north')
    - 'get [item]' to pick up an item (e.g., 'get key')
    - 'inventory' to check your items
    - 'look' to inspect the current room
    - 'quit' to exit the game
    "
}

# Initialize game data
$Rooms = @{
    "Hall" = @{
        Description = "You are in a grand hall. There's a key on a table.";
        Item = "key";
        Exits = @{ North = "Kitchen"; East = "Living Room" }
    };
    "Kitchen" = @{
        Description = "You are in a kitchen. The air smells of spices.";
        Item = $null;
        Exits = @{ South = "Hall" }
    };
    "Living Room" = @{
        Description = "You are in a cozy living room. A locked treasure chest sits in the corner.";
        Item = "treasure";
        Exits = @{ West = "Hall" }
    }
}

$Inventory = @()
$CurrentRoom = "Hall"

# Start the game
Show-Instructions

while ($true) {
    Write-Host "`nYou are in the $CurrentRoom."
    Write-Host $Rooms[$CurrentRoom].Description

    # Check for items in the room
    if ($Rooms[$CurrentRoom].Item) {
        Write-Host "You see a $($Rooms[$CurrentRoom].Item) here."
    }

    # Get user input
    $Command = Read-Host "What will you do?"

    # Exit the game
    if ($Command -eq "quit") {
        Write-Host "Thanks for playing! Goodbye."
        break
    }

    # Moving between rooms
    elseif ($Command -like "go *") {
        $Direction = $Command -replace "go ", ""
        if ($Rooms[$CurrentRoom].Exits.$Direction) {
            $CurrentRoom = $Rooms[$CurrentRoom].Exits.$Direction
        } else {
            Write-Host "You can't go that way!"
        }
    }

    # Picking up items
    elseif ($Command -like "get *") {
        $Item = $Command -replace "get ", ""
        if ($Rooms[$CurrentRoom].Item -eq $Item) {
            Write-Host "You picked up the $Item!"
            $Inventory += $Item
            $Rooms[$CurrentRoom].Item = $null
        } else {
            Write-Host "There is no $Item here."
        }
    }

    # Checking inventory
    elseif ($Command -eq "inventory") {
        if ($Inventory.Count -gt 0) {
            Write-Host "Inventory: $($Inventory -join ', ')"
        } else {
            Write-Host "Your inventory is empty."
        }
    }

    # Inspecting the room
    elseif ($Command -eq "look") {
        Write-Host $Rooms[$CurrentRoom].Description
        if ($Rooms[$CurrentRoom].Item) {
            Write-Host "You see a $($Rooms[$CurrentRoom].Item) here."
        }
    }

    # Unknown command
    else {
        Write-Host "I don't understand that command."
    }

    # Win condition
    if ($Inventory -contains "treasure") {
        Write-Host "`nCongratulations! You found the treasure and won the game!"
        break
    }
}
